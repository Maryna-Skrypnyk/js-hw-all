{"mappings":"AAEA,MAAMA,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,SAAUF,SAASC,cAAc,gBACjCE,QAASH,SAASC,cAAc,sBAChCG,YAAaJ,SAASC,cAAc,oBACpCI,SAAUL,SAASC,cACjB,oD,EAsDFF,YAAKO,mBAAsB,YC9Dd,CACb,CACEC,QACE,sEACFC,SACE,sEACFC,YAAa,OAEf,CACEF,QACE,sEACFC,SACE,sEACFC,YAAa,aAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,WAEf,CACEF,QACE,sEACFC,SACE,sEACFC,YAAa,OAEf,CACEF,QACE,uEACFC,SACE,uEACFC,YAAa,QAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,wBAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,SAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,kBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,WAEf,CACEF,QACE,sEACFC,SACE,sEACFC,YAAa,QAEf,CACEF,QACE,sEACFC,SACE,sEACFC,YAAa,OAEf,CACEF,QACE,oFACFC,SACE,oFACFC,YAAa,qBAGf,CACEF,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBDnIZC,KAAI,EAACF,SAAEA,EAAQD,QAAEA,EAAOE,YAAEA,KAClB,0EAoBbD,sHAWGD,0BAEGC,kBACFC,8BASEE,KAAA,K,MAQJC,EAAA,IAEFd,EAAAC,YAAAc,iBAAA,oBAUEC,EAAc,CAAAC,EAASC,EAACC,KACxBnB,EAAKI,SAAAgB,UAAkBC,IAAG,WAC1BrB,EAAKM,YAAYW,IAAMA,EACvBjB,EAAKM,YAAYY,MACjBlB,EAAwBM,YAAOgB,QAAeC,MAAAT,EAAAU,QAAAL,GAEWjB,SAAlDuB,KAAAL,UAAAC,IAAoB,cAC3BK,OAAAC,iBAAA,UAAAC,I,EAWyB,K,EACvBxB,SAAAgB,UAAAS,OAAA,WAEF7B,EACEM,YAAAW,IAAA,GAEFjB,EAAoBM,YAClBY,IAAA,GAEFlB,EAAoBM,YAClBwB,gBAAA,cAEF5B,SAAAuB,KAAAL,UAAAS,OAAA,cAEFH,OAAMK,oBAAA,UAAAH,IASJA,EAAuBI,IACvB,MAAAC,EACA,SADAA,EAEA,aAFAA,EAIF,YAEAD,EAAAE,OAAAD,GAAKE,IAELH,EAAAE,OAAAD,GAAAG,EAAA,GAEMJ,EAAAE,OAAAD,GAAOG,GAAiB,IAG5BA,EAA+BC,I,IAA+BC,EAAJC,OAAAvC,EAAAM,YAAAgB,QAAAC,OAAIc,EAC7DC,EAAA,IAAAA,EAAAxB,EAAA0B,OAAA,GAEHF,EAASxB,EAAiB0B,OAAA,IAAAF,EAAA,GACxBtC,EAAYM,YAAAW,IAAAH,EAAAwB,GAAAhB,QAAAmB,OACZzC,EAAuBM,YAAUY,IAAAJ,EAAAwB,GAAApB,IAClClB,EAAAM,YAAAgB,QAAAC,MAAAe,G,wCApEDN,IACgCA,EAAAU,iBAC0B,QAAAV,EAAAW,OAAAC,UAEd5B,EAAAgB,EAAAW,OAAArB,QAAAmB,OAAAT,EAAAW,OAAAzB,IAAAc,EAAAW,W","sources":["src/index.js","src/js/gallery-items.js"],"sourcesContent":["import galleryItems from './js/gallery-items.js'; // масив даних\r\n\r\nconst refs = {\r\n  galleryList: document.querySelector('ul.js-gallery'),\r\n  lightbox: document.querySelector('.js-lightbox'),\r\n  overlay: document.querySelector('.lightbox__overlay'),\r\n  lightboxImg: document.querySelector('.lightbox__image'),\r\n  btnClose: document.querySelector(\r\n    '.lightbox__button[data-action=\"close-lightbox\"]'\r\n  ),\r\n}; // посилання для доступу до елементів\r\n\r\n/// 1. Створення і рендер розмітки по масиву даних і наданим шаблоном.\r\n\r\nconst makeGallery = images => {\r\n  return images\r\n    .map(({ original, preview, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n    loading=\"lazy\"\r\n    width=\"392\"\r\n    height=\"240\"\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join('');\r\n};\r\n\r\nrefs.galleryList.insertAdjacentHTML('beforeend', makeGallery(galleryItems));\r\n\r\n/// 2. Реалізація делегування на галереї ul.js-gallery і\r\n// отримання url великого зображення\r\n\r\n// 3. Відкриття модального вікна при натисканні на елементі галереї.\r\n\r\n// 4. Підміна значення атрибута src елемента img.lightbox__image.\r\n\r\nconst arrGalleryListCopy = [\r\n  ...refs.galleryList.querySelectorAll('.gallery__image'),\r\n]; // копія масиву елементів img\r\n\r\nconst onImgOpen = e => {\r\n  e.preventDefault();\r\n\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  imgModalOpen(e.target.dataset.source, e.target.alt, e.target);\r\n};\r\n\r\nconst imgModalOpen = (src, alt, img) => {\r\n  refs.lightbox.classList.add('is-open');\r\n  refs.lightboxImg.src = src;\r\n  refs.lightboxImg.alt = alt;\r\n  refs.lightboxImg.dataset.index = arrGalleryListCopy.indexOf(img);\r\n  document.body.classList.add('modal-open'); // при відкритому модальному вікні на body навішуємо клас для відміни скролу\r\n\r\n  window.addEventListener('keydown', onModalChangeByKey);\r\n};\r\n\r\n// 5. Закриття модального вікна при натисканні на кнопку\r\n// button[data - action= \"\"close - lightbox\"].\r\n\r\n// 6. Очищення значення атрибута src елемента img.lightbox__image.\r\n// Це необхідно для того, щоб при наступному відкритті модального вікна,\r\n// поки вантажиться зображення, ми не бачили попереднє.\r\n\r\n// 7. Закриття модального вікна при натисканні на div.lightbox__overlay.\r\n\r\nconst onModalClose = () => {\r\n  refs.lightbox.classList.remove('is-open');\r\n  refs.lightboxImg.src = '';\r\n  refs.lightboxImg.alt = '';\r\n  refs.lightboxImg.removeAttribute('data-index');\r\n  document.body.classList.remove('modal-open'); // при закритті модального вікна з body видаляємо клас, щоб відновити скрол\r\n\r\n  window.removeEventListener('keydown', onModalChangeByKey);\r\n};\r\n\r\n// 8. Закриття модального вікна після натискання клавіші ESC.\r\n\r\n// 9. Перегортування зображень галереї у відкритому модальному вікні\r\n// клавішами \"вліво\" і \"вправо\".\r\n\r\nconst onModalChangeByKey = e => {\r\n  const keys = {\r\n    ESC: 'Escape',\r\n    ARROW_RIGHT: 'ArrowRight',\r\n    ARROW_LEFT: 'ArrowLeft',\r\n  };\r\n\r\n  if (e.code === keys.ESC) {\r\n    onModalClose();\r\n  }\r\n  if (e.code === keys.ARROW_RIGHT) {\r\n    lightboxImageMove(1);\r\n  }\r\n  if (e.code === keys.ARROW_LEFT) {\r\n    lightboxImageMove(-1);\r\n  }\r\n};\r\n\r\nconst lightboxImageMove = step => {\r\n  const currentImgIndex = Number(refs.lightboxImg.dataset.index);\r\n  let nextImgIndex = currentImgIndex + step;\r\n  if (nextImgIndex < 0) {\r\n    nextImgIndex = arrGalleryListCopy.length - 1;\r\n  }\r\n  if (nextImgIndex > arrGalleryListCopy.length - 1) {\r\n    nextImgIndex = 0;\r\n  }\r\n  refs.lightboxImg.src = arrGalleryListCopy[nextImgIndex].dataset.source;\r\n  refs.lightboxImg.alt = arrGalleryListCopy[nextImgIndex].alt;\r\n  refs.lightboxImg.dataset.index = nextImgIndex;\r\n};\r\n\r\nrefs.galleryList.addEventListener('click', onImgOpen);\r\nrefs.btnClose.addEventListener('click', onModalClose);\r\nrefs.overlay.addEventListener('click', onModalClose);\r\n\r\n/// 10. Реалізація функції lazy-loading при загрузці картинок у браузері.\r\n\r\nconst imgs = refs.galleryList.querySelectorAll('img[loading=\"lazy\"]');\r\n\r\nimgs.forEach(image => {\r\n  image.addEventListener('load', onImageLoaded, { once: true });\r\n});\r\n\r\nfunction onImageLoaded(e) {\r\n  console.log('Картинка загружена');\r\n  e.target.classList.add('appear');\r\n}\r\n","export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/09/25/13/14/dog-2785077__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/09/25/13/14/dog-2785077_1280.jpg',\r\n    description: 'Dog',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/02/11/17/00/dog-1194087__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/02/11/17/00/dog-1194087_1280.jpg',\r\n    description: 'Dog Black',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/02/26/16/32/bulldog-1224267__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/02/26/16/32/bulldog-1224267_1280.jpg',\r\n    description: 'Bulldog',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/03/27/18/27/sky-1283446__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/03/27/18/27/sky-1283446_1280.jpg',\r\n    description: 'Sky',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/08/21/08/33/nose-4420535__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/08/21/08/33/nose-4420535_1280.jpg',\r\n    description: 'Nose',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/11/17/13/13/bulldog-1047518__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/11/17/13/13/bulldog-1047518_1280.jpg',\r\n    description: 'French Bulldog Black',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/05/07/10/48/husky-3380548__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/05/07/10/48/husky-3380548_1280.jpg',\r\n    description: 'Husky',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/09/25/13/12/cocker-spaniel-2785074__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/09/25/13/12/cocker-spaniel-2785074_1280.jpg',\r\n    description: 'Cocker Spaniel',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/10/26/12/34/fantasy-2890925__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/10/26/12/34/fantasy-2890925_1280.jpg',\r\n    description: 'Fantasy',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/21/59/tree-736877__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/21/59/tree-736877_1280.jpg',\r\n    description: 'Tree',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/02/20/18/03/cat-2083492__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/02/20/18/03/cat-2083492_1280.jpg',\r\n    description: 'Cat',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/04/23/19/57/yorkshire-terrier-6202621__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/04/23/19/57/yorkshire-terrier-6202621_1280.jpg',\r\n    description: 'Yorkshire Terrier',\r\n  },\r\n\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n"],"names":["$1f0dc3b9307be026$var$refs","galleryList","document","querySelector","lightbox","overlay","lightboxImg","btnClose","insertAdjacentHTML","preview","original","description","map","join","$1f0dc3b9307be026$var$arrGalleryListCopy","querySelectorAll","$1f0dc3b9307be026$var$imgModalOpen","src","alt","img","classList","add","dataset","index","indexOf","body","window","addEventListener","$1f0dc3b9307be026$var$onModalChangeByKey","remove","removeAttribute","removeEventListener","e","keys","code","$1f0dc3b9307be026$var$onModalClose","$1f0dc3b9307be026$var$lightboxImageMove","step","nextImgIndex","Number","length","source","preventDefault","target","nodeName"],"version":3,"file":"index.6d437b04.js.map"}